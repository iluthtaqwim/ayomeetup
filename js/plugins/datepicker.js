$.fn.xwDatepicker=function(t,e){function a(t){function e(t){t.removeClass("active"),t.parent().find(".xw-datepicker-opt").fadeOut(150),$(".xw-black").fadeOut(150)}var a=$(t),n=a.parent(),i=a.attr("icon"),r=a.attr("alt"),d="<span>"+a.attr("label")+"</span>",p="<b>"+moment(new Date).format("DD MMM YYYY")+"</b>";a.attr("disabled",!0),0===n.find(".xw-datepicker-opt").length?a.after('<div class="xw-datepicker-opt"></div>'):(n.find(".xw-datepicker-opt").remove(),a.after('<div class="xw-datepicker-opt" data-date="'+moment(new Date).format("MM/DD/YYYY")+'"></div>')),n.find(".xw-datepicker-opt").datepicker({startDate:new Date,endDate:"+3m",language:"id"}).hide().on("changeDate",function(t){var a=$(t.currentTarget),n=new Date(a.datepicker("getFormattedDate"));a.parent().find("input.xw-datepicker").val(n),a.parent().find(".text-title b").text(moment(n).format("DD MMM YYYY")),a.parent().find("input.xw-datepicker").trigger({type:"xwChangeDate",msg:n}),e(a.parent())}),0===n.find(".text-title").length?a.after('<div class="text-title">'+d+p+"</div>"):n.find(".text-title").empty().append(d).append(p),0===n.find('img[src="'+i+'"]').length&&a.after('<img src="'+i+'" alt="'+r+'"/>'),n.hasClass("btn")||n.addClass("btn"),0===$("body .xw-black").length&&$("body").append('<div class="xw-black"></div>'),a.datepicker("clearDate"),a.parent().find(".text-title b").text("Pilih Tanggal"),n.click(function(t){var a=$(t.currentTarget);a.hasClass("active")?e(a):(a.addClass("active"),a.parent().find(".xw-datepicker-opt").fadeIn(150),$(".xw-black").fadeIn(150),$(".xw-black").click(function(t){e(a)}))})}function n(t,e){function a(t){t.removeClass("active"),t.parent().find(".xw-datepicker-opt").fadeOut(150),$(".xw-black").fadeOut(150)}var n=$(t),i=n.parent(),r=n.attr("icon"),d=n.attr("alt"),p="<span>"+n.attr("label")+"</span>",c="<b>"+moment(new Date).format("DD MMM YYYY")+"</b>";n.attr("disabled",!0),0===i.find(".xw-datepicker-opt").length?n.after('<div class="xw-datepicker-opt"></div>'):(i.find(".xw-datepicker-opt").remove(),n.after('<div class="xw-datepicker-opt" data-date="'+moment(new Date).format("MM/DD/YYYY")+'"></div>'));var l=e.map(function(t){var e=t.day+1;return e>6?0:e}),f=[0,1,2,3,4,5,6].filter(function(t){return!l.includes(t)});i.find(".xw-datepicker-opt").datepicker({startDate:new Date,endDate:"+3m",language:"id",daysOfWeekDisabled:f}).hide().on("changeDate",function(t){var e=$(t.currentTarget),n=new Date(e.datepicker("getFormattedDate"));e.parent().find("input.xw-datepicker").val(n),e.parent().find(".text-title b").text(moment(n).format("DD MMM YYYY")),e.parent().find("input.xw-datepicker").trigger({type:"xwChangeDate",msg:n}),a(e.parent())}),0===i.find(".text-title").length?n.after('<div class="text-title">'+p+c+"</div>"):i.find(".text-title").empty().append(p).append(c),0===i.find('img[src="'+r+'"]').length&&n.after('<img src="'+r+'" alt="'+d+'"/>'),i.hasClass("btn")||i.addClass("btn"),n.datepicker("clearDate"),n.parent().find(".text-title b").text("Pilih Tanggal"),i.click(function(t){var e=$(t.currentTarget);e.hasClass("active")?a(e):(e.addClass("active"),e.parent().find(".xw-datepicker-opt").fadeIn(150),0===n.parent().parent().find(".xw-black").length&&n.parent().parent().append('<div class="xw-black"></div>'),n.parent().parent().find(".xw-black").fadeIn(150),n.parent().parent().find(".xw-black").click(function(t){n.parent().parent().find(".xw-black").remove(),a(e)}))})}function i(t,e){var a=$(t);a.parent().find(".xw-datepicker-opt").datepicker("setDatesDisabled",new Date(e))}this.each(function(r,d){if("setDate"===t){var p=$(d);p.parent().find("input.xw-datepicker").val(new Date(e)),p.parent().find(".text-title b").text(moment(new Date(e)).format("DD MMM YYYY"))}else"withFilter"===t?n(d,e):"disableDate"===t?i(d,e):a(d)})},$.fn.datepicker.dates.id={days:["MINGGU","SENIN","SELASA","RABU","KAMIS","JUMAT","SABTU"],daysShort:["MING","SEN","SEL","RAB","KAM","JUM","SAB"],daysMin:["MING","SEN","SEL","RAB","KAM","JUM","SAB"],months:["JANUARI","FEBRUARI","MARET","APRIL","MEI","JUNI","JULI","AGUSTUS","SEPTEMBER","OKTOBER","NOVEMBER","DESEMBER"],monthsShort:["JAN","FEB","MAR","APR","MEI","JUN","JUL","AGU","SEP","OKT","NOV","DES"],today:"HARI INI",clear:"HAPUS",format:"mm/dd/yyyy",titleFormat:"MM yyyy",weekStart:1};